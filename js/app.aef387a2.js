(function(t){function e(e){for(var a,u,i=e[0],o=e[1],c=e[2],d=0,f=[];d<i.length;d++)u=i[d],Object.prototype.hasOwnProperty.call(n,u)&&n[u]&&f.push(n[u][0]),n[u]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,i=1;i<r.length;i++){var o=r[i];0!==n[o]&&(a=!1)}a&&(s.splice(e--,1),t=u(u.s=r[0]))}return t}var a={},n={app:0},s=[];function u(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=t,u.c=a,u.d=function(t,e,r){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)u.d(r,a,function(e){return t[e]}.bind(null,a));return r},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/vue-hackernews/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=o;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"00ed":function(t,e,r){"use strict";r.r(e);var a=r("357b"),n=r.n(a);for(var s in a)"default"!==s&&function(t){r.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"0439":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={SET_NEWS(t,{news:e}){t.news=e}};e.default=a},"170c":function(t,e,r){"use strict";var a=r("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r("5e7d")),s=a(r("c306")),u={mixins:[s.default],components:{Item:n.default},beforeMount(){this.loadItems()},computed:{currentPage(){const t=Number(this.$route.params.page);return Number.isNaN(t)?1:t},prevPagePath(){return`/${this.$route.params.type}/${this.currentPage-1}`},nextPagePath(){return`/${this.$route.params.type}/${this.currentPage+1}`}},methods:{loadItems(){this.$bar.start(),this.$store.dispatch("fetchListData",{type:this.$route.params.type}).then(this.validatePageParam).then(()=>this.$bar.finish()).catch(()=>this.$bar.fail())},validatePageParam(){const t=Number(this.$route.params.page);(t>this.$store.getters.maxPage||t<0||Number.isNaN(t))&&void 0!==this.$route.params.page&&this.$router.replace("/top/1")},title(){const{type:t}=this.$route.params;return t.charAt(0).toUpperCase()+t.slice(1)}}};e.default=u},"199c":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={};e.default=a},"1a8f":function(t,e,r){"use strict";var a=r("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r("0439")),s=a(r("63e0")),u=a(r("94d5"));const i={news:[]};var o={state:i,mutations:n.default,actions:s.default,getters:u.default};e.default=o},"21e2":function(t,e,r){"use strict";r.r(e);var a=r("170c"),n=r.n(a);for(var s in a)"default"!==s&&function(t){r.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"23be":function(t,e,r){"use strict";r.r(e);var a=r("199c"),n=r.n(a);for(var s in a)"default"!==s&&function(t){r.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},2952:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container",attrs:{id:"app"}},[r("header",{staticClass:"header"},[r("nav",{staticClass:"nav"},[r("router-link",{attrs:{to:"/top"}},[t._v("top")]),r("router-link",{attrs:{to:"/new"}},[t._v("new")]),r("router-link",{attrs:{to:"/show"}},[t._v("show")]),r("router-link",{attrs:{to:"/ask"}},[t._v("ask")]),r("router-link",{attrs:{to:"/job"}},[t._v("job")])],1)]),r("main",[r("router-view",{key:t.$route.params.type})],1)])},n=[]},"357b":function(t,e,r){"use strict";var a=r("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r("77d4")),s=a(r("44bb")),u={props:{item:Object},filters:{timeAgo:n.default,host:s.default}};e.default=u},"3dfd":function(t,e,r){"use strict";r.r(e);var a=r("2952"),n=r("23be");for(var s in n)"default"!==s&&function(t){r.d(e,t,(function(){return n[t]}))}(s);r("5c0b");var u=r("2877"),i=Object(u["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=i.exports},4360:function(t,e,r){"use strict";var a=r("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r("2b0e")),s=a(r("2f62")),u=a(r("1a8f"));n.default.use(s.default);var i=new s.default.Store(u.default);e.default=i},"44bb":function(t,e,r){"use strict";function a(t){return t?t.replace(/^https?:\/\//,"").replace(/\/.*$/,"").split(".").filter(t=>"www"!==t).join("."):""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},"4ec3":function(t,e,r){"use strict";var a=r("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.fetchListData=i,e.fetchIdsByType=o,e.fetchItem=c,e.fetchItems=l,e.fetchUser=d;var n=a(r("59ca"));r("66ce"),n.default.initializeApp({databaseURL:"https://hacker-news.firebaseio.com"});const s=n.default.database().ref("/v0");function u(t){const e=s.cachedItems;return e&&e.has(t)?Promise.resolve(e.get(t)):new Promise((r,a)=>{s.child(t).once("value",a=>{const n=a.val();n&&(n.__lastUpdated=Date.now()),e&&e.set(t,n),r(n)},a)})}function i(t){return o(t).then(t=>l(t))}function o(t){return s.cachedIds&&s.cachedIds[t]?Promise.resolve(s.cachedIds[t]):u(t+"stories")}function c(t){return u("item/"+t)}function l(t){return Promise.all(t.map(t=>c(t)))}function d(t){return u("user/"+t)}},"56d7":function(t,e,r){"use strict";var a=r("4ea4"),n=a(r("2b0e")),s=r("31bd"),u=a(r("3dfd")),i=a(r("b6b4")),o=a(r("4360")),c=a(r("a18c"));function l(){const t=new n.default(i.default).$mount();n.default.prototype.$bar=t,document.body.appendChild(t.$el)}(0,s.sync)(o.default,c.default),n.default.config.productionTip=!1,l(),new n.default({store:o.default,router:c.default,el:"#app",render:t=>t(u.default)})},"5c0b":function(t,e,r){"use strict";var a=r("9c0c"),n=r.n(a);n.a},"5e7d":function(t,e,r){"use strict";r.r(e);var a=r("cdf3"),n=r("00ed");for(var s in n)"default"!==s&&function(t){r.d(e,t,(function(){return n[t]}))}(s);r("7628");var u=r("2877"),i=Object(u["a"])(n["default"],a["a"],a["b"],!1,null,"1d51ca1a",null);e["default"]=i.exports},"63e0":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r("4ec3"),n={fetchListData({commit:t},{type:e}){return(0,a.fetchListData)(e).then(e=>t("SET_NEWS",{news:e}))}};e.default=n},"6fa7":function(t,e,r){},7018:function(t,e,r){"use strict";r.r(e);var a=r("d5ab"),n=r.n(a);for(var s in a)"default"!==s&&function(t){r.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"754d":function(t,e,r){"use strict";var a=r("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r("d046")),s={mode:"history",routes:n.default};e.default=s},7628:function(t,e,r){"use strict";var a=r("a8d3"),n=r.n(a);n.a},7773:function(t,e,r){"use strict";r.r(e);var a=r("921d"),n=r("21e2");for(var s in n)"default"!==s&&function(t){r.d(e,t,(function(){return n[t]}))}(s);r("dbae");var u=r("2877"),i=Object(u["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=i.exports},"77d4":function(t,e,r){"use strict";function a(t){const e=Date.now()/1e3-Number(t),r=60,a=60*r,n=24*a;if(e<r)return`${e} second${e>1?"s":""}`;if(e>=r&&e<a){const t=Math.floor(e/r),a=t>1?"s":"";return`${t} minute${a}`}if(e>=a&&e<n){const t=Math.floor(e/a),r=t>1?"s":"";return`${t} hour${r}`}if(e>=n){const t=Math.floor(e/n),r=t>1?"s":"";return`${t} day${r}`}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},"921d":function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"news-list"},[r("div",{staticClass:"pages-nav"},[r("div",{staticClass:"prev pages-nav__item"},[t.currentPage>1?r("router-link",{attrs:{to:t.prevPagePath}},[t._v("<prev")]):r("a",{staticClass:"disabled"},[t._v("<prev")])],1),r("div",{staticClass:"page__current pages-nav__item"},[t.$store.getters.maxPage?r("p",{staticClass:"pages"},[t._v(" "+t._s(t.currentPage)+"/"+t._s(t.$store.getters.maxPage)+" ")]):t._e()]),r("div",{staticClass:"next pages-nav__item"},[t.currentPage<t.$store.getters.maxPage?r("router-link",{attrs:{to:t.nextPagePath}},[t._v("next>")]):r("a",{staticClass:"disabled"},[t._v("next>")])],1)]),r("ul",{staticClass:"items-list"},t._l(t.$store.getters.displayNews,(function(t){return r("item",{key:t&&t.id,attrs:{item:t}})})),1)])},n=[]},"94d5":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MAX_NEWS_COUNT=void 0;const a=20;e.MAX_NEWS_COUNT=a;var n={displayNews({news:t,route:e}){const r=Number(e&&e.params&&e.params.page)||1,n=(r-1)*a,s=r*a;return t.slice(n,s)},maxPage({news:t}){return Math.ceil(t.length/a)}};e.default=n},"9c0c":function(t,e,r){},"9c40":function(t,e,r){"use strict";var a=r("6fa7"),n=r.n(a);n.a},a18c:function(t,e,r){"use strict";var a=r("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r("2b0e")),s=a(r("8c4f")),u=a(r("754d"));n.default.use(s.default);var i=new s.default(u.default);e.default=i},a635:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["progress-bar",{error:t.error}],style:t.style},[t._v(" "+t._s(t.error?"Failed to fetch Hacker News data":"")+" ")])},n=[]},a8d3:function(t,e,r){},b6b4:function(t,e,r){"use strict";r.r(e);var a=r("a635"),n=r("7018");for(var s in n)"default"!==s&&function(t){r.d(e,t,(function(){return n[t]}))}(s);r("9c40");var u=r("2877"),i=Object(u["a"])(n["default"],a["a"],a["b"],!1,null,"a7c258b0",null);e["default"]=i.exports},c171:function(t,e,r){},c306:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={mounted(){const t=e(this);function e(t){return"function"===typeof t.title?t.title.call(t):t.title}t&&(document.title="HN | "+t)}};e.default=a},cdf3:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{staticClass:"title",attrs:{href:t.item.url,target:"_blank"}},[t._v(" "+t._s(t.item.title)+" ")]),r("p",{staticClass:"news-meta"},[t._v(" by "),r("span",{staticClass:"author"},[t._v(" "+t._s(t.item.by))]),t.item.time?r("span",{staticClass:"time"},[t._v(" "+t._s(t._f("timeAgo")(t.item.time))+" ago")]):t._e(),r("span",{staticClass:"domain"},[t._v(" ("+t._s(t._f("host")(t.item.url))+")")]),t._v(" - score "),r("span",{staticClass:"score"},[t._v(t._s(t.item.score||0))])])])},n=[]},d046:function(t,e,r){"use strict";var a=r("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r("7773"));const s=[{path:"/:type(top|new|show|ask|job)/:page?",component:n.default},{path:"/",redirect:"/top"}];var u=s;e.default=u},d5ab:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data(){return{percent:0,hidden:!0,error:!1}},computed:{style(){return{width:this.percent+"%",display:this.hidden?"none":"block"}}},methods:{start(){"number"!==typeof this.timerId&&(this.percent=0,this.hidden=!1,this.timerId=setInterval(()=>{this.percent++},100))},finish(){this.percent=100,this.$nextTick(()=>{this.hidden=!0}),clearInterval(this.timerId),this.timerId=null},fail(){this.error=!0,this.percent=100,clearInterval(this.timerId),this.timerId=null}}};e.default=a},dbae:function(t,e,r){"use strict";var a=r("c171"),n=r.n(a);n.a}});
//# sourceMappingURL=app.aef387a2.js.map